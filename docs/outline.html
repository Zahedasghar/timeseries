<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.299">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>outline</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="outline_files/libs/clipboard/clipboard.min.js"></script>
<script src="outline_files/libs/quarto-html/quarto.js"></script>
<script src="outline_files/libs/quarto-html/popper.min.js"></script>
<script src="outline_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="outline_files/libs/quarto-html/anchor.min.js"></script>
<link href="outline_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="outline_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="outline_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="outline_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="outline_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="ec614-macroeconomic-forecasting" class="level2">
<h2 class="anchored" data-anchor-id="ec614-macroeconomic-forecasting">EC614: Macroeconomic Forecasting</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><img src="images/zahid.png" class="img-fluid" width="512"></p>
</div><div class="column" style="width:70%;">
<div class="nonincremental">
<p>Prof.Dr.Zahid Asghar, School of Economics</p>
<p>Quaid-i-Azam University, Islamabad</p>
</div>
</div>
</div>
</section>
<section id="course-overview-and-learning-outcomes" class="level2">
<h2 class="anchored" data-anchor-id="course-overview-and-learning-outcomes">Course overview and learning outcomes</h2>
<p>Research in economics, business and finance requires extensive use of sophisticated and refined quantitative skills. In this course you will be introduced to the models and econometric issues that occur when dealing with time series data. Applications of time series methods to economics and finance will be stressed. Students completing this class will be able to decompose time series into its constituent parts, apply the relevant econometric model to data, be able to understand and deal with underlying dynamic macroeconometric models and be able to estimate and interpret univariate and multivariate time series econometric models. Students will also be able to use estimated time series models for policy analysis and forecasting. Students will acquire competence in the tools and methods used in modern econometric research with a focus on theoretical knowledge, critical reasoning, problem solving, interpretation and evaluation. X-12 ARIMA and seasonal adjustment of macroeconomic series will also be learnt.</p>
</section>
<section id="instructional-method" class="level2">
<h2 class="anchored" data-anchor-id="instructional-method">Instructional Method</h2>
<p><strong>Structure</strong> â€“ The course has 3 main parts: evaluating patterns using visualization, capturing trend and seasonality to model univariate and multivariate data, and learning each and every step by doing using R and STATA software.</p>
</section>
<section id="books" class="level2">
<h2 class="anchored" data-anchor-id="books">Books</h2>
<p>Main books I will follow are :</p>
<p>. . .</p>
<div class="columns">
<div class="column" style="width:33%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/fpp3.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><a href="https://otexts.com/fpp3/">Forecasting: Practice and Principles</a></figcaption><p></p>
</figure>
</div>
</div><div class="column" style="width:33%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/applied_econ.jpg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><a href="https://www.wiley.com/en-us/Applied+Econometric+Time+Series%2C+4th+Edition-p-9781118808566">Applied Econometrics Time Series</a></figcaption><p></p>
</figure>
</div>
</div><div class="column" style="width:33%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/doing_economics.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption"><a href="https://www.core-econ.org/project/doing-economics/">Doing Economics: Selected Chapters</a></figcaption><p></p>
</figure>
</div>
</div>
</div>
</section>
<section id="article-how-is-machine-learning-useful-for-macroeconomic-forecasting" class="level1">
<h1>Article <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/jae.2910">How is machine learning useful for macroeconomic forecasting?</a></h1>
<section id="course-contents" class="level2">
<h2 class="anchored" data-anchor-id="course-contents">Course contents</h2>
<table class="table">
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Week</strong></th>
<th style="text-align: left;"><strong>Title</strong></th>
<th style="text-align: left;"><strong>Topics covered</strong></th>
<th style="text-align: left;"><strong>Essential reading</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">1</td>
<td style="text-align: left;">Introduction to Macroeconomic Series(plotting with Excel and R)</td>
<td style="text-align: left;">Visualizing and assessing four time series component</td>
<td style="text-align: left;">Chapter 1 of FPP3 and Doing Economics</td>
</tr>
<tr class="even">
<td style="text-align: left;">2</td>
<td style="text-align: left;">Exponential Smoothing</td>
<td style="text-align: left;"><ul>
<li><p>Exploring and visualizing time series</p></li>
<li><p>Simple benchmark methods for forecasting</p></li>
<li><p>Decomposition of Series</p></li>
</ul></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"></td>
<td style="text-align: left;">Concept of dependence and independence</td>
<td style="text-align: left;"><ul>
<li><p>Measuring dependence in a time series: The autocovariance and autocorrelation functions</p></li>
<li><p>The partial autocorrelation function.</p></li>
<li><p>Estimation of ACF and PACF.</p></li>
<li><p>ARMA, ARIMA, SARIMA model</p></li>
</ul></td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">3</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">4</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Continue</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">5</td>
<td style="text-align: left;">Statistical Forecasting</td>
<td style="text-align: left;"><p>Advanced forecasting methods</p>
<p>Measuring forecast accuracy</p>
<p>Choosing the best method</p></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">7</td>
<td style="text-align: left;">Labs</td>
<td style="text-align: left;">Labs with Cement Production, M2, CPI and Sales Tax data</td>
<td style="text-align: left;">Application of all the concepts learnt so far</td>
</tr>
<tr class="even">
<td style="text-align: left;">7</td>
<td style="text-align: left;">Trends and Nonstationarity</td>
<td style="text-align: left;">Stochastic vs Deterministic Trends</td>
<td style="text-align: left;">Ch4. Walter Ender Applied Econometrics</td>
</tr>
<tr class="odd">
<td style="text-align: left;">8</td>
<td style="text-align: left;">Continued</td>
<td style="text-align: left;">continued</td>
<td style="text-align: left;">continued</td>
</tr>
<tr class="even">
<td style="text-align: left;">9</td>
<td style="text-align: left;">VAR, SVAR models</td>
<td style="text-align: left;">Vector Autoregression</td>
<td style="text-align: left;">JEP paper VAR and its reproducibility</td>
</tr>
<tr class="odd">
<td style="text-align: left;">10</td>
<td style="text-align: left;">continued</td>
<td style="text-align: left;">continued</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">11</td>
<td style="text-align: left;">Cointegration</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">12</td>
<td style="text-align: left;">Panel Data</td>
<td style="text-align: left;">Long Panel Data</td>
<td style="text-align: left;">With applications with R and learning web API data use</td>
</tr>
<tr class="even">
<td style="text-align: left;">13</td>
<td style="text-align: left;">Panel Data Cointegration</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">WDI and other public data sets</td>
</tr>
<tr class="odd">
<td style="text-align: left;">14</td>
<td style="text-align: left;">Machine Learning and Macroeconomic Forecasting</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"><a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/jae.2910">ML&amp;macro forecasting</a></td>
</tr>
<tr class="even">
<td style="text-align: left;">15</td>
<td style="text-align: left;">Continued</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr>
</tbody>
</table>
</section>
<section id="data-science" class="level2">
<h2 class="anchored" data-anchor-id="data-science">Data Science</h2>
<ul>
<li><p><span class="hi">You go into data analysis with the tools you know, not the tools you need</span></p></li>
<li><p>The next 2-3 weeks are all about giving you the tools you need</p>
<ul>
<li>Admittedly, a bit before you know what you need them <em>for</em></li>
</ul></li>
<li><p>We will extend them as we learn specific models</p></li>
</ul>
</section>
<section id="r" class="level2">
<h2 class="anchored" data-anchor-id="r">R</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p><strong>Free</strong> and <strong>open source</strong></p></li>
<li><p>A very large community</p>
<ul>
<li>Written by statisticians for statistics</li>
<li>Most packages are written for <code>R</code> first</li>
</ul></li>
<li><p>Can handle virtually any data format</p></li>
<li><p>Makes replication easy</p></li>
<li><p>Can integrate into documents (with <code>R markdown</code>)</p></li>
<li><p>R is a <em>language</em> so it can do <em>everything</em></p>
<ul>
<li>A good stepping stone to learning other languages like <em>Python</em></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img src="images/r.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="excel-or-stata-cant-do-this" class="level2">
<h2 class="anchored" data-anchor-id="excel-or-stata-cant-do-this">Excel (or Stata) Canâ€™t Do This</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Code</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> gdpPercap,</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> lifeExp,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>           <span class="at">color =</span> continent))<span class="sc">+</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.3</span>)<span class="sc">+</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_log10</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">1000</span>,<span class="dv">10000</span>, <span class="dv">100000</span>),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                  <span class="at">label=</span>scales<span class="sc">::</span>dollar)<span class="sc">+</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"GDP/Capita"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">y =</span> <span class="st">"Life Expectancy (Years)"</span>)<span class="sc">+</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>continent)<span class="sc">+</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">color =</span> F)<span class="sc">+</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="cell-output-display">
<p><img src="outline_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="or-this" class="level2">
<h2 class="anchored" data-anchor-id="or-this">Or This</h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Input</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Output</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>The average GDP per capita is <code>` r dollar(mean(gapminder$gdpPercap)) `</code> with a standard deviation of <code>` r dollar(sd(gapminder$gdpPercap)) `</code>.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>The average GDP per capita is $7,215.33 with a standard deviation of $9,857.45.</p>
</div>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>